<textarea name="code" class="sql:nogutter"rows="50" cols="100">
DROP TABLE TRABAJA_EN;
/
CREATE TABLE TRABAJA_EN
( "ID_EC" CHAR(5 BYTE) REFERENCES ENSAYO_CLINICO,
  "ID_EMP" CHAR(5 BYTE) REFERENCES EMPLEADO,
  "CARGO" VARCHAR2(50 BYTE) NOT NULL,
  PRIMARY KEY(ID_EC, ID_EMP),
  CONSTRAINT CHECK_TRABAJA_EN CHECK(CARGO IN('Investigador_Principal', 'Sub_Investigador', 'Data_Manager', 'Responsable_Farmacia', 'Enfermeria')));
/

CREATE OR REPLACE PROCEDURE CREA_TRABAJA_EN
(w_ID_EC IN TRABAJA_EN.ID_EC%TYPE,
 w_ID_EMP IN TRABAJA_EN.ID_EMP%TYPE,
 w_CARGO IN TRABAJA_EN.CARGO%TYPE

)IS
 BEGIN
	INSERT INTO TRABAJA_EN(ID_EC, ID_EMP, CARGO) 
	VALUES (w_ID_EC, w_ID_EMP, w_CARGO);
	COMMIT WORK;
END CREA_TRABAJA_EN;
/

CREATE OR REPLACE PROCEDURE MODIFICAR_TRABAJA_EN
(ID_EC_A_MOD IN TRABAJA_EN.ID_EC%TYPE,
 ID_EMP_A_MOD IN TRABAJA_EN.ID_EMP%TYPE,
 CARGO_A_MOD IN TRABAJA_EN.CARGO%TYPE)  IS
BEGIN
  UPDATE TRABAJA_EN
  SET ID_EC=ID_EC_A_MOD, ID_EMP=ID_EMP_A_MOD, 
	CARGO=CARGO_A_MOD
  WHERE ID_EC = ID_EC_A_MOD AND ID_EMP = ID_EMP_A_MOD;
  COMMIT WORK;
END MODIFICAR_TRABAJA_EN;
/

</textarea>